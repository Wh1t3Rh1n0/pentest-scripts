#!/bin/bash

## ====== Kali Linux Extra Tools ======
apt-get update && apt-get -y upgrade && apt-get -y dist-upgrade

# Configuration changes (convenience)
echo -e "\nPATH=\$PATH:/opt/pentest-scripts" >> /root/.bashrc
update-rc.d postgresql enable
update-rc.d metasploit enable


# Firefox/Iceweasel Add-ons
# -------------------------
echo "Opening Iceweasel to install addons..."

URLS="https://addons.mozilla.org/en-US/firefox/addon/open-multiple-locations/
https://addons.mozilla.org/en-US/firefox/addon/restclient/?src=search
https://addons.mozilla.org/en-US/firefox/addon/refcontrol/?src=search
https://addons.mozilla.org/en-US/firefox/addon/foxyproxy-standard/?src=ss
https://addons.mozilla.org/en-US/firefox/addon/firebug/?src=search
https://addons.mozilla.org/en-US/firefox/addon/cookies-manager-plus/?src=ss
https://addons.mozilla.org/en-US/firefox/addon/unhide-passwords/
https://addons.mozilla.org/en-US/firefox/addon/hackbar/?src=search
https://addons.mozilla.org/en-US/firefox/addon/tamper-data/?src=search
https://addons.mozilla.org/en-US/firefox/addon/quickjava/?src=search
https://addons.mozilla.org/en-US/firefox/addon/parent-folder/
https://addons.mozilla.org/en-US/firefox/addon/user-agent-quick-switch
https://addons.mozilla.org/en-US/firefox/addon/email-extractor
https://addons.mozilla.org/en-US/firefox/addon/autofill-262804/
https://addons.mozilla.org/en-US/firefox/addon/unhide-fields
https://addons.mozilla.org/en-US/firefox/addon/adblock-plus/?src=search
https://addons.mozilla.org/en-us/firefox/addon/checkcompatibility/
"

for url in $(echo $URLS); do
  iceweasel "$url"
  sleep 0.5
done



# Tools you must download manually
# --------------------------------

# PHP File Manager - for easy upload/download over kali's apache or victim's HTTP server
# http://phpfm.sourceforge.net/


# Tools installed with apt-get
# ----------------------------

# mount.cifs - mount SMB shares as local directories
# sshfs - mount SSH servers
# sshpass - pass ssh passwords in the command-line (scripting, preventing typos)
apt-get install -y cifs-utils sshfs sshpass

# Tools based on personal preference
apt-get install -y terminator gedit 

# Other stuff that comes in handy
apt-get install -y flashplugin-nonfree


# Scripted, non-apt-get installs
# ------------------------------

# Wordlists ###
cd /usr/share/wordlists
# Top 10k most common passwords: 
wget "https://xato.net/files/10k%20most%20common.zip"
# Top 100 passwords from the Adobe leak: http://stricture-group.com/files/adobe-top100.txt
# * This one needs some formatting:
curl "http://stricture-group.com/files/adobe-top100.txt" | grep "^[0-9]*\." | awk -F " " {'print $4'} > /usr/share/wordlists/adobe-top-100.txt
# Default passwords list: 
wget "http://www.phenoelit.org/dpl/dpl.html"

# PCredz - credentials/hash/credit card number sniffer
cd /opt
git clone https://github.com/lgandx/PCredz

# Linux Kernel Exploit Suggester
cd /opt
git clone https://github.com/PenturaLabs/Linux_Exploit_Suggester

# Responder
cd /opt
git clone https://github.com/Spiderlabs/Responder

# clusterd.py
cd /opt
git clone https://github.com/hatRiot/clusterd.git

# F5 BIG-IP Cookie decoder
mkdir /opt/BIG-IP
cd /opt/BIG-IP
wget http://www.taddong.com/tools/BIG-IP_cookie_decoder.zip
unzip BIG-IP_cookie_decoder.zip
echo -e "#\!/bin/bash\npython /opt/BIG-IP/BIG-IP_cookie_decoder.py \$(curl -i -k \$1 2>/dev/null | grep -i \"Set-Cookie: BIGip\" | cut -d ' ' -f 2 | tr -d ';' | cut -d '=' -f 2)" > /opt/BIG-IP/big-ip-url.sh

# Various extra Windows binaries
mkdir /opt/windows-extras
cd /opt/windows-extras
wget http://www.tightvnc.com/download/1.3.10/tightvnc-1.3.10_x86.zip
wget http://download.sysinternals.com/files/PSTools.zip
wget http://download.sysinternals.com/files/AccessChk.zip

# smbexec
cd /opt
git clone https://github.com/pentestgeek/smbexec
cd smbexec
./install.sh

# Veil-Evasion
cd /opt
git clone https://github.com/Veil-Framework/Veil-Evasion/
cd Veil-Evasion/setup
./setup.sh

# discover:
cd /opt
git clone https://github.com/leebaird/discover
cd discover
./setup.sh

# sslscan + openssl w/ sslv2 support (could break Kali):
#cd /opt
#git clone https://github.com/rbsec/sslscan.git
#cd sslscan
#./build_openssl_debian.sh
#make




