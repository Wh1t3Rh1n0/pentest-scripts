#!/bin/bash

##
## snap
## ----
## A work-in-progress script to snap windows to different parts of the screen.
##
## Usage: snap [tl/tr/bl/br]
##

if [ "$1" == "" ] || [ "$1" == "-h" ] || [ "$1" == "--help" ]; then 
    grep -E "^##[^#]*$" "$0"
    exit
fi

WIDTH=`xdpyinfo | grep 'dimensions:' | cut -f 2 -d ':' | cut -f 1 -d 'x'`
HEIGHT=`xdpyinfo | grep 'dimensions:' | cut -f 2 -d ':' | cut -f 2 -d 'x' | cut -f 1 -d ' '`
echo $WIDTH x $HEIGHT

HALFWIDTH=$(($WIDTH/2))
HALFHEIGHT=$(($HEIGHT/2))
echo $HALFWIDTH x $HALFHEIGHT

wmctrl -r :ACTIVE: -b remove,maximized_vert,maximized_horz

# wmctrl -r :ACTIVE: -e 0,X,Y,Width,Height

# Window Size
NEW_WIDTH=$(($HALFWIDTH-5))
NEW_HEIGHT=$(($HALFHEIGHT-42))


if [ "$1" == "tl" ] ; then
    #TOP LEFT
    X_POS=0
    Y_POS=0
fi

if [ "$1" == "bl" ] ; then
    # BOTTOM LEFT
    X_POS=0
    Y_POS=$(($HALFHEIGHT+16))
fi

if [ "$1" == "tr" ] ; then
    # TOP RIGHT
    X_POS=$HALFWIDTH
    Y_POS=0
fi

if [ "$1" == "br" ] ; then
    #BOTTOM RIGHT
    X_POS=$HALFWIDTH
    Y_POS=$(($HALFHEIGHT+16))
fi 
wmctrl -r :ACTIVE: -e 0,$X_POS,$Y_POS,$NEW_WIDTH,$NEW_HEIGHT
